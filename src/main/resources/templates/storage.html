
<body>
<h1>타입캡슐 묻는 중 ...</h1>
<form name="form" th:action="@{/{capsuleId}/board/storage (capsuleId = ${capsule.id}) }" method="post" onsubmit="sendMail()">

    <table>
        <tr>
            <td>메일 주소</td>
            <td>
                <input type="text" name="capsuleToUserMail" placeholder="이메일 주소를 입력하세요">
            </td>
        </tr>
        <tr>
            <td>꺼내는 날짜</td>
            <td>
                <input type="date" name="capsuleReservationDate" th:min="${#temporals.createToday()}" max="9999-12-31">
            </td>
            <td>
                <input type="time" name="capsuleReservationTime">
            </td>
        </tr>
        <tr>
            <td>한 줄 메세지</td>
            <td>
                <input type="text" name="capsuleMessage" placeholder="메세지를 입력하세요">
            </td>
        </tr>
    </table>
    <button>발송</button>
</form>
<script>
    function sendMail(){
        document.form.target="hframe4";
        document.form.submit();
        opener.location.href="/";
        window.open('', '_self').close();
    }
</script>
</body>
</html>

